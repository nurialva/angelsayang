<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Angel's ToDo ðŸŒ¸</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <style>
#quote-box {
    background: linear-gradient(135deg, #FFB6C1 0%, #FF92BB 100%);
    padding: 20px;
    border-radius: 25px;
    color: white;
    text-align: center;
    box-shadow: 0 8px 20px rgba(255, 146, 187, 0.4);
    position: relative;
    overflow: hidden;
}

#quote-content {
    transition: opacity 0.4s ease, transform 0.4s ease;
    min-height: 80px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

#btn-random-quote {
    background: rgba(255, 255, 255, 0.25);
    border: 1px solid rgba(255, 255, 255, 0.4);
    color: white;
    padding: 8px 18px;
    border-radius: 50px;
    margin-top: 15px;
    font-family: 'Quicksand';
    font-weight: 700;
    font-size: 0.8rem;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    transition: 0.3s;
}

#btn-random-quote:active {
    transform: scale(0.9);
    background: rgba(255, 255, 255, 0.4);
}

#btn-random-quote .material-icons {
    font-size: 16px;
}

/* Animasi Fade saat ganti quote */
.fade-out {
    opacity: 0;
    transform: translateY(-10px);
}
.quote-gallery {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.quote-card-mini {
    background: white;
    padding: 20px;
    border-radius: 15px;
    border-bottom: 4px solid var(--soft-pink);
    box-shadow: 0 4px 10px rgba(0,0,0,0.02);
}

.quote-card-mini p {
    margin: 0;
    font-size: 0.9rem;
    line-height: 1.5;
    color: #666;
    font-style: italic;
}

.quote-card-mini span {
    display: block;
    margin-top: 10px;
    font-size: 0.7rem;
    color: var(--hot-pink);
    font-weight: bold;
}
#quote-container {
    padding: 15px 15px 0 15px;
}
#quote-box {
    background: linear-gradient(135deg, #FFB6C1 0%, #FFC0CB 100%);
    padding: 15px;
    border-radius: 20px;
    color: white;
    text-align: center;
    box-shadow: 0 4px 15px rgba(255, 182, 193, 0.4);
}
#quote-text {
transition: all 0.5s ease-in-out;
    margin: 0;
    font-size: 0.9rem;
    font-style: italic;
    line-height: 1.4;
    font-weight: 600;
}
#quote-author {
    display: block;
    font-size: 0.7rem;
    margin-top: 8px;
    opacity: 0.9;
    text-transform: uppercase;
    letter-spacing: 1px;
}
        :root {
            --soft-pink: #FFB6C1;
            --hot-pink: #FF69B4;
            --bg-girly: #FFF0F5;
            --white: #ffffff;
        }

        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; }

        body {
            font-family: 'Quicksand', sans-serif;
            background-color: var(--bg-girly);
            margin: 0; padding: 0;
            display: flex; flex-direction: column;
            height: 100vh; color: #555;
        }

        /* Header Handheld */
        header {
            background: var(--white);
            padding: 20px;
            text-align: center;
            border-bottom: 3px solid var(--soft-pink);
            border-radius: 0 0 25px 25px;
            box-shadow: 0 4px 15px rgba(255, 182, 193, 0.3);
            position: sticky; top: 0; z-index: 10;
        }

        header h1 {
            margin: 0; font-size: 1.4rem; color: var(--hot-pink);
            font-weight: 700; display: flex; align-items: center; justify-content: center;
        }

        /* Container Utama */
        #app-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px 15px 100px 15px; /* bottom padding untuk navbar */
        }

        /* Card List */
        .todo-item {
            background: var(--white);
            border-radius: 18px;
            padding: 15px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            box-shadow: 0 5px 10px rgba(0,0,0,0.03);
            border-left: 6px solid var(--soft-pink);
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .todo-item.done {
            border-left: 6px solid #d1d1d1;
            background-color: #f9f9f9;
        }

        .todo-item.done .text {
            text-decoration: line-through;
            color: #bbb;
        }

        .text { flex: 1; margin: 0 15px; font-weight: 600; font-size: 0.95rem; }
        .date-badge { font-size: 0.7rem; color: #999; display: block; }

        .btn-check {
            color: var(--hot-pink);
            cursor: pointer;
            transition: transform 0.2s;
        }

        .btn-check:active { transform: scale(1.3); }

        /* Form Input */
        .form-card {
            background: white; padding: 20px; border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: 700; color: var(--hot-pink); font-size: 0.9rem; }
        
        input {
            width: 100%; padding: 12px; border: 2px solid var(--bg-girly);
            border-radius: 12px; font-family: 'Quicksand'; outline: none;
            transition: 0.3s;
        }

        input:focus { border-color: var(--soft-pink); }

        .btn-add {
            width: 100%; background: var(--hot-pink); color: white;
            border: none; padding: 15px; border-radius: 12px;
            font-weight: 700; font-size: 1rem; cursor: pointer;
            box-shadow: 0 4px 10px rgba(255, 105, 180, 0.4);
        }

        /* Bottom Tabbar */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: white; height: 75px;
            display: flex; justify-content: space-around; align-items: center;
            border-top: 1px solid #eee;
            padding-bottom: env(safe-area-inset-bottom);
        }

        .nav-link {
            text-decoration: none; color: #ccc;
            display: flex; flex-direction: column; align-items: center;
            transition: 0.3s; flex: 1;
        }

        .nav-link.active { color: var(--hot-pink); }
        .nav-link span { font-size: 0.7rem; font-weight: 700; margin-top: 4px; }

        /* Loading Spinner */
        .loader { text-align: center; color: var(--soft-pink); margin-top: 50px; }
    </style>
    <link rel="manifest" href="manifest.json">
</head>
<body>

<header>
    <h1 id="header-title">ðŸŒ¸ Angel's Day</h1>
</header>
<div id="quote-container">
    <div id="quote-box">
        <div id="quote-content">
            <p id="quote-text">"Kamu aman, kamu kuat, dan kamu sedang berproses."</p>
            <span id="quote-author">âœ¨ Nuri Alva</span>
        </div>
        <button id="btn-random-quote" onclick="randomQuote()">
            <i class="material-icons"></i>
            Semangati Aku âœ¨
        </button>
    </div>
</div>

<div id="app-content">
    </div>

<nav class="bottom-nav">
    <a href="#" class="nav-link active" onclick="menuAction('today', this)">
        <i class="material-icons">auto_awesome</i>
        <span>Hari Ini</span>
    </a>
    <a href="#" class="nav-link" onclick="menuAction('history', this)">
        <i class="material-icons">history</i>
        <span>Riwayat</span>
    </a>
    <a href="#" class="nav-link" onclick="menuAction('add', this)">
        <i class="material-icons">add_circle</i>
        <span>Tambah</span>
    </a>
</nav>

<script>
    const API_BASE = "https://apis.geekpesantren.web.id/Api_Angel";
const quotes = [
    // --- PART 1: KETENANGAN & KEAMANAN ---
    "Satu nafas pada satu waktu. Kamu melakukan yang terbaik yang kamu bisa.",
    "Masa lalumu tidak memiliki kekuatan atas momen ini. Kamu aman sekarang.",
    "Tidak apa-apa jika hari ini hanya tentang bertahan hidup. Itu sudah cukup.",
    "Pelan-pelan saja. Kesembuhan bukanlah perlombaan, melainkan perjalanan.",
    "Perasaanmu valid. Berikan dirimu izin untuk merasakannya tanpa menghakimi.",
    "Kamu bukan apa yang terjadi padamu. Kamu adalah sosok yang bertahan melaluinya.",
    "Hargai setiap kemajuan kecil, karena setiap langkah adalah kemenangan.",
    "Hatimu berhak mendapatkan kedamaian. Mari kita bangun itu pelan-pelan.",
    "Jangan paksa dirimu untuk sembuh dalam semalam. Bunga butuh waktu untuk mekar.",
    "Kamu jauh lebih kuat dari memori yang mencoba menakutimu.",
    "Bernafaslah. Kamu di sini, di masa kini, dan kamu memegang kendali.",
    "Tidak apa-apa untuk beristirahat. Istirahat adalah bagian dari perjuangan.",
    "Malam yang paling gelap pun akan berakhir dan matahari akan terbit.",
    "Setiap hari adalah kesempatan baru untuk menjadi lembut pada diri sendiri.",
    "Trauma mungkin mengubahmu, tapi ia tidak bisa menghancurkan esensimu.",
    "Jadilah sahabat terbaik bagi dirimu sendiri hari ini.",
    "Kamu layak mendapatkan cinta dan kebaikan, terutama dari dirimu sendiri.",
    "Fokus pada apa yang bisa kamu kendalikan hari ini: nafasmu dan niatmu.",
    "Jangan biarkan bayangan masa lalu menghalangi sinar matahari hari ini.",
    "Kamu telah melewati 100% hari-hari sulitmu. Kamu adalah pemenang.",
    "Keberanian tidak selalu menggelegar. Kadang ia adalah suara lembut di akhir hari.",
    "Dunia ini lebih baik karena ada kamu di dalamnya. Tetaplah di sini.",
    "Tarik nafas dalam-dalam. Buang semua beban yang bukan milikmu lagi.",
    "Berhenti sejenak bukan berarti menyerah. Itu artinya mengisi energi.",
    "Luka itu akan memudar menjadi bekas luka, dan bekas luka adalah simbol kekuatan.",
    "Katakan pada dirimu: 'Aku berhak untuk merasa tenang hari ini.'",
    "Masa depanmu masih bersih dan penuh dengan kemungkinan yang indah.",
    "Setiap detak jantungmu adalah bukti bahwa hidup masih menginginkanmu.",
    "Cintai dirimu sedikit lebih banyak hari ini. Kamu pantas mendapatkannya.",
    "Kamu tidak sendirian. Ada kekuatan besar di dalam dirimu yang menjagamu.",
    "Sembuh berarti belajar untuk percaya pada diri sendiri lagi.",
    "Biarkan hari ini mengalir apa adanya. Kamu tidak perlu sempurna.",
    "Ingatlah betapa jauh kamu telah melangkah dari titik terendahmu.",
    "Jangan bandingkan prosesmu dengan orang lain. Jalanmu unik dan berharga.",
    "Ketenangan adalah kekuatan. Mari cari ketenangan itu dalam hal-hal kecil.",
    "Berikan dirimu pelukan mental. Kamu sudah berjuang sangat hebat.",
    "Suaramu berhak didengar, tapi hari ini, dengarkanlah keheningan yang damai.",
    "Kamu sedang membangun kembali pondasimu. Butuh waktu, dan itu tidak apa-apa.",
    "Awan mendung hanya numpang lewat, langit biru akan selalu ada di baliknya.",
    "Lakukan satu hal kecil hari ini yang membuat hatimu merasa hangat.",
    "Kelembutanmu pada diri sendiri adalah senjata terkuatmu.",
    "Kamu adalah penulis dari bab-bab selanjutnya dalam hidupmu.",
    "Trauma berbohong padamu tentang nilaimu. Kamu tetap sangat berharga.",
    "Bernafaslah. Udara ini milikmu. Momen ini milikmu.",
    "Tidak ada yang salah dengan merasa rapuh. Itu membuktikan kamu manusia.",

    // --- PART 2: KEKUATAN & HARAPAN ---
    "Jadilah sabar. Hal-hal indah butuh kesabaran untuk tumbuh.",
    "Kamu berhak melepaskan apa yang tidak lagi melayani kedamaianmu.",
    "Kedamaian dimulai ketika kamu memutuskan untuk tidak membiarkan masa lalu memimpin.",
    "Lihatlah ke cermin dan katakan: 'Terima kasih sudah bertahan sampai hari ini.'",
    "Kamu adalah pejuang yang penuh keanggunan.",
    "Biarkan cahaya kecil masuk ke celah-celah hatimu hari ini.",
    "Hari ini adalah halaman baru. Tuliskan sesuatu yang lembut di sana.",
    "Ketakutan adalah reaksi, tapi keberanian adalah keputusan.",
    "Kamu memiliki kekuatan untuk mendefinisikan ulang siapa dirimu sekarang.",
    "Jangan biarkan bisikan masa lalu menenggelamkan harapan masa depanmu.",
    "Satu langkah kecil masih tetaplah sebuah kemajuan.",
    "Dunia ini luas, dan ada tempat yang tenang untukmu di dalamnya.",
    "Kamu cukup. Kamu selalu cukup. Kamu akan selalu cukup.",
    "Berjalanlah dengan kepala tegak. Kamu sudah melewati badai besar.",
    "Kesembuhanmu adalah bentuk balas dendam terbaik terhadap rasa sakit.",
    "Tubuhmu adalah rumahmu, dan hari ini ia aman untuk ditinggali.",
    "Kamu tidak berhutang penjelasan pada siapa pun tentang caramu sembuh.",
    "Izinkan dirimu untuk tumbuh perlahan, seperti pohon yang kuat.",
    "Masa lalu adalah tempat untuk belajar, bukan tempat untuk tinggal.",
    "Hargai dirimu karena tetap mencoba, bahkan saat rasanya sangat berat.",
    "Kamu berhak mengambil ruang di dunia ini. Jangan merasa kecil.",
    "Pikiranmu mungkin sedang berisik, tapi hatimu tahu jalan pulang.",
    "Setiap air mata yang jatuh adalah cara jiwamu melepaskan beban.",
    "Kamu adalah bukti hidup bahwa manusia bisa bangkit berkali-kali.",
    "Kesalahan masa lalu bukanlah identitasmu yang sekarang.",
    "Jadilah lembut pada pikiranmu, ia hanya sedang berusaha menjagamu.",
    "Kedamaian batin adalah prioritas tertinggimu hari ini.",
    "Kamu tidak perlu memegang semuanya sendirian. Lepaskan yang berat.",
    "Hidup ini tentang momen-momen kecil. Mari nikmati yang satu ini.",
    "Kekuatanmu tidak diukur dari seberapa cepat kamu bangkit, tapi dari niatmu.",
    "Jangan biarkan orang yang tidak tahu ceritamu menuliskan akhir ceritamu.",
    "Kamu sedang mekar di musimmu sendiri. Jangan terburu-buru.",
    "Dunia mungkin keras, tapi kamu tetap bisa memilih untuk menjadi baik.",
    "Katakan: 'Aku memilih untuk melepaskan apa yang tidak bisa kuubah.'",
    "Kamu berhak mendapatkan ketenangan yang tak terusik oleh bayangan.",
    "Masa sulitmu sedang menempa versi dirimu yang paling bijaksana.",
    "Ingatlah, bernafas dengan tenang adalah sebuah pencapaian besar.",
    "Kamu adalah pemilik kunci menuju kebebasan mentalmu sendiri.",
    "Jangan pernah meminta maaf karena telah memprioritaskan kesehatan mentalmu.",
    "Satu hari yang tenang adalah berkah yang luar biasa. Syukuri itu.",
    "Kamu lebih berharga daripada produktivitas atau pencapaianmu.",
    "Biarkan hatimu dipenuhi oleh hal-hal yang membuatmu merasa hidup.",
    "Tidak ada kata terlambat untuk mulai mencintai diri sendiri kembali.",
    "Kamu aman. Kamu dicintai. Kamu dilindungi oleh kekuatan batinmu.",
    "Teruslah melangkah, Angel. Masa depan yang cerah sudah menantimu.",

    // --- PART 3: PEMULIHAN MENDALAM (NEW) ---
    "Setiap sel di tubuhmu sedang bekerja untuk menyembuhkanmu.",
    "Bicaralah pada dirimu sendiri seperti kamu bicara pada anak kecil yang kamu cintai.",
    "Kamu tidak rusak. Kamu sedang dalam proses rekonstruksi yang indah.",
    "Biarkan hari ini menjadi hari di mana kamu berhenti menjadi musuh bagi dirimu sendiri.",
    "Istirahat bukanlah hadiah bagi keberhasilan, tapi kebutuhan bagi keberadaanmu.",
    "Pintu masa lalu sudah tertutup. Kuncinya ada di tanganmu, simpanlah baik-baik.",
    "Awan tidak pernah menghalangi matahari selamanya. Begitu juga dengan kesedihanmu.",
    "Kamu memiliki hak untuk menetapkan batasan demi kedamaian jiwamu.",
    "Kebaikan kecil untuk diri sendiri hari ini akan menjadi kekuatan besar esok hari.",
    "Lihatlah bintang; mereka bersinar dalam kegelapan, sama seperti jiwamu.",
    "Kamu adalah keajaiban yang tetap bertahan meski badai menerjang.",
    "Lepaskan rasa bersalah karena tidak menjadi 'baik-baik saja'. Itu manusiawi.",
    "Hatimu adalah taman. Sirami dengan pikiran positif dan kasih sayang.",
    "Jangan biarkan kemarin mengambil terlalu banyak waktu dari hari ini.",
    "Kamu berhak bernafas tanpa beban masa lalu di pundakmu.",
    "Kesembuhanmu adalah bukti bahwa cinta diri adalah obat yang nyata.",
    "Pilih satu hal yang bisa kamu syukuri saat ini, sekecil apa pun itu.",
    "Masa depanmu tidak ditentukan oleh momen-momen gelapmu.",
    "Kamu sedang belajar menari di tengah hujan, dan itu sangat mengagumkan.",
    "Keheningan bukanlah musuh. Keheningan adalah tempat jiwamu berbicara pelan.",
    "Kamu pantas mendapatkan lingkungan yang mendukung pertumbuhanmu.",
    "Jangan takut pada bayangan. Itu artinya ada cahaya di dekatmu.",
    "Kekuatanmu ada pada kelembutanmu dalam memaafkan diri sendiri.",
    "Tarik nafas cahaya, hembuskan kegelapan. Kamu memegang kendali.",
    "Kamu adalah kanvas yang indah, dan hari ini adalah warna yang baru.",
    "Percayalah pada waktu. Semua akan masuk akal pada saat yang tepat.",
    "Dunia butuh cahaya unik yang hanya bisa diberikan olehmu.",
    "Hargai tubuhmu karena telah membawamu sejauh ini.",
    "Kamu tidak perlu menjadi sempurna untuk dicintai.",
    "Kedamaian adalah perjalanan, bukan tujuan akhir. Nikmati tiap langkahnya.",
    "Keberanian adalah tetap melangkah meski lututmu gemetar.",
    "Berikan dirimu waktu sebanyak yang kamu butuhkan. Tidak ada tenggat waktu.",
    "Kamu adalah pemenang dari pertempuran yang tak pernah dibicarakan orang lain.",
    "Sinar matamu adalah cermin dari ketangguhan jiwamu.",
    "Cukup jalani hari ini. Esok biarlah menjadi urusan esok.",
    "Memaafkan bukan berarti melupakan, tapi melepaskan beban di hati.",
    "Setiap pagi adalah undangan untuk memulai kembali tanpa beban.",
    "Kamu layak mendapatkan hidup yang tenang dan penuh makna.",
    "Terima kasih karena sudah berjuang begitu keras. Kamu hebat.",
    "Langit tetap biru meski tertutup awan paling hitam sekalipun.",
    "Jangan biarkan suaramu hilang dalam kebisingan trauma.",
    "Kamu memiliki kekuatan untuk berkata 'tidak' pada apa yang menyakitimu.",
    "Cahaya di dalam dirimu tidak akan pernah benar-benar padam.",
    "Kamu adalah pelangi setelah badai yang panjang.",
    "Jadilah sumber ketenanganmu sendiri hari ini.",

    // --- PART 4: PENERIMAAN DIRI (NEW) ---
    "Tidak apa-apa untuk memulai dari awal lagi.",
    "Kesembuhan dimulai ketika kamu berhenti menolak kenyataan dan mulai merangkul diri.",
    "Hargai prosesmu, sekecil apa pun kemajuannya.",
    "Kamu berhak atas kebahagiaan tanpa syarat.",
    "Ingatlah, kamu sedang berproses menjadi versi dirimu yang lebih kuat.",
    "Jangan biarkan ketakutan akan masa lalu menghentikan langkahmu ke masa depan.",
    "Bernafaslah dengan lega. Beban itu perlahan akan terangkat.",
    "Kamu adalah pemegang kendali atas emosimu sendiri.",
    "Setiap momen adalah kesempatan untuk memilih cinta daripada rasa takut.",
    "Percayalah bahwa hal-hal baik akan datang kepadamu.",
    "Kamu pantas mendapatkan ketenangan pikiran di malam hari.",
    "Jangan pernah menyerah pada dirimu sendiri.",
    "Kekuatanmu tumbuh di tempat-tempat yang pernah terluka.",
    "Kamu lebih dari sekadar pengalamanmu.",
    "Jadilah lembut pada jiwamu yang lelah.",
    "Masa depanmu penuh dengan cahaya dan kedamaian.",
    "Kamu memiliki hak untuk merasa aman di dunia ini.",
    "Satu tindakan cinta diri hari ini adalah kemenangan besar.",
    "Kamu adalah bintang utama dalam perjalanan kesembuhanmu.",
    "Berikan dirimu ruang untuk bernafas dan berkembang.",
    "Setiap hari adalah langkah menuju dirimu yang lebih utuh.",
    "Kamu tidak sendirian dalam perjuangan ini.",
    "Ketenangan adalah pelabuhan terakhirmu, dan kamu sedang menuju ke sana.",
    "Percayalah pada kekuatan batinmu yang tak terbatas.",
    "Kamu adalah inspirasi bagi dirimu sendiri.",
    "Jangan biarkan dunia mengubah hatimu yang baik.",
    "Masa lalu hanyalah sebuah cerita, ia tidak lagi memiliki kuasa.",
    "Kamu adalah bunga yang mekar di padang gurun.",
    "Tetaplah bersinar, Angel. Kamu sangat berharga.",
    "Hari ini adalah milikmu. Isilah dengan ketenangan."
];

function displayDailyQuote() {
    const today = new Date();
    // Gunakan tanggal (hari ke-sekian dalam tahun) untuk memilih quote secara rotasi
    const start = new Date(today.getFullYear(), 0, 0);
    const diff = today - start;
    const oneDay = 1000 * 60 * 60 * 24;
    const dayOfYear = Math.floor(diff / oneDay);
    
    // Ambil index berdasarkan hari (modulo jumlah quotes)
    const quoteIndex = dayOfYear % quotes.length;
    $('#quote-text').text(`"${quotes[quoteIndex]}"`);
}

// Panggil fungsi ini di dalam $(document).ready()
<!-- $(document).ready(function() { -->
<!--     loadData('get_today', 'ðŸŒ¸ Angel\'s Day'); -->
<!-- }); -->
<!--  -->
    $(document).ready(function() {
    displayDailyQuote();
        loadData('get_today', 'ðŸŒ¸ Hari Ini');
    });

function menuAction(type, el) {
    $('.nav-link').removeClass('active');
    $(el).addClass('active');

    if (type === 'today') loadData('get_today', 'ðŸŒ¸ Angel\'s Day');
    if (type === 'quotes') renderQuotes(); // Panggil fungsi baru ini
    if (type === 'history') loadData('get_history', 'ðŸ“œ Riwayat');
    if (type === 'add') renderForm();
}

    function loadData(endpoint, title) {
        $('#header-title').text(title);
        $('#app-content').html('<div class="loader"><i class="material-icons animate-spin">sync</i><p>Sabar ya cantik...</p></div>');

        $.getJSON(`${API_BASE}/${endpoint}`, function(data) {
            let html = '';
            if (data.length === 0) {
                html = '<div style="text-align:center; margin-top:50px; color:#ccc;"><i class="material-icons" style="font-size:4rem">spa</i><p>Belum ada kegiatan nih.</p></div>';
            } else {
                data.forEach(item => {
                    const isDone = item.is_done == 1 ? 'done' : '';
                    const icon = item.is_done == 1 ? 'check_circle' : 'radio_button_unchecked';
                    html += `
                        <div class="todo-item ${isDone}">
                            <i class="material-icons btn-check" onclick="toggleStatus(${item.id}, ${item.is_done})">${icon}</i>
                            <div class="text">
                                ${item.nama_kegiatan}
                                <span class="date-badge">${item.tanggal}</span>
                            </div>
                        </div>
                    `;
                });
            }
            $('#app-content').html(html);
        }).fail(function() {
            $('#app-content').html('<p style="text-align:center; color:red">Aduh! Gagal ambil data. Cek koneksi API ya.</p>');
        });
    }

    function renderForm() {
        $('#header-title').text('âœ¨ Tambah Baru');
        const today = new Date().toISOString().split('T')[0];
        const formHtml = `
            <div class="form-card">
                <div class="form-group">
                    <label>Apa rencanamu?</label>
                    <input type="text" id="nama_kegiatan" placeholder="Contoh: Skincarean.." autofocus>
                </div>
                <div class="form-group">
                    <label>Kapan dikerjakan?</label>
                    <input type="date" id="tanggal" value="${today}">
                </div>
                <button class="btn-add" onclick="submitData()">Simpan Rencana ðŸ’–</button>
            </div>
        `;
        $('#app-content').html(formHtml);
    }

    function submitData() {
        const nama = $('#nama_kegiatan').val();
        const tgl = $('#tanggal').val();

        if (!nama || !tgl) {
            alert('Lengkapi datanya dulu ya, Angel!');
            return;
        }

        $.ajax({
            url: `${API_BASE}/add`,
            method: 'POST',
            data: { nama_kegiatan: nama, tanggal: tgl },
            dataType: 'json',
            success: function(res) {
                if (res.status) {
                    menuAction('today', $('.nav-link')[0]);
                } else {
                    alert('Gagal nyimpen data!');
                }
            },
            error: function() { alert('Error Server!'); }
        });
    }

function renderQuotes() {
    $('#header-title').text('ðŸ’– Healing Words');
    let html = '<div class="quote-gallery">';
    
    quotes.forEach((q, index) => {
        html += `
            <div class="quote-card-mini">
                <p>"${q}"</p>
                <span>#SelfLove ${index + 1}</span>
            </div>
        `;
    });
    
    html += '</div>';
    $('#app-content').html(html);
}

// Update juga fungsi menuAction kamu

function randomQuote() {
    const content = $('#quote-content');
    
    // Efek Fade Out
    content.addClass('fade-out');
    
    setTimeout(() => {
        // Pilih index acak dari array quotes (90 quotes)
        const randomIndex = Math.floor(Math.random() * quotes.length);
        const newQuote = quotes[randomIndex];
        
        // Update teks
        $('#quote-text').text(`"${newQuote}"`);
        
        // Efek Fade In
        content.removeClass('fade-out');
    }, 400); // Durasi sesuai transisi CSS
}
    function toggleStatus(id, current) {
        const newStatus = current == 1 ? 0 : 1;
        $.ajax({
            url: `${API_BASE}/check`,
            method: 'POST',
            data: { id: id, is_done: newStatus },
            dataType: 'json',
            success: function() {
                // Refresh data yang sedang aktif
                const currentTitle = $('#header-title').text();
                if (currentTitle.includes('Hari Ini')) loadData('get_today', 'ðŸŒ¸ Hari Ini');
                else loadData('get_history', 'ðŸ“œ Riwayat');
            }
        });
    }
</script>

</body>
</html>
